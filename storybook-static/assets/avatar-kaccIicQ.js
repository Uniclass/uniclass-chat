import{j as _}from"./jsx-runtime-vNq4Oc-g.js";import{r as a}from"./index-4g5l5LRQ.js";import{_ as m}from"./extends-dGVwEr9R.js";import"./index-jmm5gWkb.js";import{$ as R}from"./index-vF5O9GZx.js";import{c as x}from"./card-WIVjaPgj.js";function M(e,r=[]){let t=[];function o(d,s){const n=a.createContext(s),i=t.length;t=[...t,s];function l(f){const{scope:u,children:$,...p}=f,L=(u==null?void 0:u[e][i])||n,I=a.useMemo(()=>p,Object.values(p));return a.createElement(L.Provider,{value:I},$)}function A(f,u){const $=(u==null?void 0:u[e][i])||n,p=a.useContext($);if(p)return p;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${d}\``)}return l.displayName=d+"Provider",[l,A]}const c=()=>{const d=t.map(s=>a.createContext(s));return function(n){const i=(n==null?void 0:n[e])||d;return a.useMemo(()=>({[`__scope${e}`]:{...n,[e]:i}}),[n,i])}};return c.scopeName=e,[o,P(c,...r)]}function P(...e){const r=e[0];if(e.length===1)return r;const t=()=>{const o=e.map(c=>({useScope:c(),scopeName:c.scopeName}));return function(d){const s=o.reduce((n,{useScope:i,scopeName:l})=>{const f=i(d)[`__scope${l}`];return{...n,...f}},{});return a.useMemo(()=>({[`__scope${r.scopeName}`]:s}),[s])}};return t.scopeName=r.scopeName,t}function k(e){const r=a.useRef(e);return a.useEffect(()=>{r.current=e}),a.useMemo(()=>(...t)=>{var o;return(o=r.current)===null||o===void 0?void 0:o.call(r,...t)},[])}const y=globalThis!=null&&globalThis.document?a.useLayoutEffect:()=>{},j=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],h=j.reduce((e,r)=>{const t=a.forwardRef((o,c)=>{const{asChild:d,...s}=o,n=d?R:r;return a.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),a.createElement(n,m({},s,{ref:c}))});return t.displayName=`Primitive.${r}`,{...e,[r]:t}},{}),S="Avatar",[T,W]=M(S),[F,C]=T(S),q=a.forwardRef((e,r)=>{const{__scopeAvatar:t,...o}=e,[c,d]=a.useState("idle");return a.createElement(F,{scope:t,imageLoadingStatus:c,onImageLoadingStatusChange:d},a.createElement(h.span,m({},o,{ref:r})))}),V="AvatarImage",B=a.forwardRef((e,r)=>{const{__scopeAvatar:t,src:o,onLoadingStatusChange:c=()=>{},...d}=e,s=C(V,t),n=G(o),i=k(l=>{c(l),s.onImageLoadingStatusChange(l)});return y(()=>{n!=="idle"&&i(n)},[n,i]),n==="loaded"?a.createElement(h.img,m({},d,{ref:r,src:o})):null}),O="AvatarFallback",D=a.forwardRef((e,r)=>{const{__scopeAvatar:t,delayMs:o,...c}=e,d=C(O,t),[s,n]=a.useState(o===void 0);return a.useEffect(()=>{if(o!==void 0){const i=window.setTimeout(()=>n(!0),o);return()=>window.clearTimeout(i)}},[o]),s&&d.imageLoadingStatus!=="loaded"?a.createElement(h.span,m({},c,{ref:r})):null});function G(e){const[r,t]=a.useState("idle");return y(()=>{if(!e){t("error");return}let o=!0;const c=new window.Image,d=s=>()=>{o&&t(s)};return t("loading"),c.onload=d("loaded"),c.onerror=d("error"),c.src=e,()=>{o=!1}},[e]),r}const w=q,N=B,E=D,b=a.forwardRef(({className:e,...r},t)=>_.jsx(w,{ref:t,className:x("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...r}));b.displayName=w.displayName;const v=a.forwardRef(({className:e,...r},t)=>_.jsx(N,{ref:t,className:x("aspect-square h-full w-full",e),...r}));v.displayName=N.displayName;const g=a.forwardRef(({className:e,...r},t)=>_.jsx(E,{ref:t,className:x("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...r}));g.displayName=E.displayName;try{b.displayName="Avatar",b.__docgenInfo={description:"",displayName:"Avatar",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}try{v.displayName="AvatarImage",v.__docgenInfo={description:"",displayName:"AvatarImage",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}try{g.displayName="AvatarFallback",g.__docgenInfo={description:"",displayName:"AvatarFallback",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}export{B as $,b as A,D as a,v as b,g as c,h as d,y as e,M as f,k as g};
